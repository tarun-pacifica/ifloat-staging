<div class="finder">
	<div class="left"></div>
	<%= form :action => resource(:cached_finds), :onsubmit => "return finder_validate()" do %>
		<%= hidden_field :language_code, :value => session.language %>
		<p> 
			<% if session.cached_finds.empty? %>
			<%= select :prompt => "No previous finds", :disabled => true %>
			<% else %>
			<%= select :prompt => "Previous finds...", :onchange => "finder_recall()", :collection => session.cached_finds, :text_method => :specification, :value_method => :specification %>
			<% end %>
			
			<%= text_field :specification, :id => "finder_specification" %>
			<%= submit "Find", :id => "submit" %>
		</p>
	<% end =%>
	<div class="right"></div>
</div>

<script type="text/javascript" charset="utf-8">
	var spec_field = $('#finder_specification');
	var tempter = 'What can we find for you?';

	function tempt() {
		if(spec_field.val() == '') { spec_field.val(tempter); }
		if(spec_field.val() == tempter) { spec_field.css('color', 'grey'); }
	}
  
	function untempt() {
		spec_field.css('color', 'black');
		if(spec_field.val() == tempter) { spec_field.val(''); }
	}
	
	tempt();
	spec_field.blur(tempt);
	spec_field.focus(untempt);
</script>